# =============================================================================
# ANSIBLE CONFIGURATION
# =============================================================================
# PKI authentication - uses your SSH key/certificate for all connections
# =============================================================================

[defaults]
inventory = inventory/hosts.yml
roles_path = roles
host_key_checking = False
retry_files_enabled = False
stdout_callback = yaml

# Gather facts for UID detection
gathering = smart

[ssh_connection]
# ==========================================================================
# PKI AUTHENTICATION
# ==========================================================================
# Option 1: Standard SSH key (default)
# ssh_args = -i ~/.ssh/id_rsa -o ControlMaster=auto -o ControlPersist=60s

# Option 2: Specific PKI key file
# ssh_args = -i /path/to/your/pki-key.pem -o ControlMaster=auto -o ControlPersist=60s

# Option 3: CAC/PIV Smart Card
# ssh_args = -o PKCS11Provider=/usr/lib/opensc-pkcs11.so -o ControlMaster=auto -o ControlPersist=60s

# Default: use SSH agent (add your key with ssh-add)
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o StrictHostKeyChecking=no

pipelining = True

[privilege_escalation]
# Default: run as your user (no sudo)
become = False
